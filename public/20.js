(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{709:function(e,t,n){"use strict";n.r(t),n.d(t,"ChangePassScreen",(function(){return N}));var a=n(0),r=n.n(a),o=n(22),s=n(2),i=n(1),c=n(17),l=n(12),u=n(93),p=n(77),f=n(39),d=n(67),m=n.n(d);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=P(e);if(t){var r=P(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?S(e):t}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(d,e);var t,n,a,s=v(d);function d(e){var t,n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),t=s.call(this,e),n=S(t),r=function(e,n){var a=n.setSubmitting;t.setSubmitting||(t.setSubmitting=a);var r={token:e.resetpasscode,password:e.password,password_confirm:e.passchange};o.a.fetch("".concat(i.p,"/api/oauth/password/reset-confirm-token"),{method:"POST",body:JSON.stringify(r)}).then((function(e){var n=g(e,2),a=n[0];if(200===n[1])t.props.history.push(i.n.LOGIN);else{var r=a.message;openNotification(NOTIFICATION_TYPE.ERROR,r),t.setSubmitting(!1)}}))},(a="onSubmit")in n?Object.defineProperty(n,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[a]=r,t.state={resetpasscode:"",password:"",passchange:"",errorValidLogin:{}},t.setSubmitting=null,t}return t=d,(n=[{key:"render",value:function(){var e=this.props,t=(e.errors,e.loading);return r.a.createElement("div",{className:"fullheight-wrapper flex-center"},r.a.createElement("div",{className:"container "},r.a.createElement(c.e,null,r.a.createElement("p",{className:"text1"},r.a.createElement(l.a,{id:"resetPass.change",defaultMessage:"resetPass.change"}),r.a.createElement("br",null)," ",r.a.createElement(l.a,{id:"resetPass.password",defaultMessage:"resetPass.password"})),r.a.createElement("p",{className:"text2"},r.a.createElement(l.a,{id:"resetPass.please",defaultMessage:"resetPass.please"}))),r.a.createElement("div",{className:"formFields"},r.a.createElement(u.a,{initialValues:{resetpasscode:"",password:"",passchange:""},layout:"vertical",validate:function(e){var t={};return e.resetpasscode||(t.resetpasscode="Required"),e.passchange||(t.passchange="Required"),e.password||(t.password="Required"),e.password!==e.passchange&&(t.passchange="Confirm password did not match"),t},onSubmit:this.onSubmit},(function(e){var n=e.values,a=e.errors,o=e.touched,s=e.handleChange,i=e.handleSubmit,u=e.isSubmitting;return r.a.createElement("form",{onSubmit:i,layout:"vertical"},r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{container:!0,spacing:1,alignItems:"flex-end",className:"form-control"},r.a.createElement(f.a,{item:!0,className:"item-flex input-with-icon"},r.a.createElement(m.a,null),r.a.createElement(p.a,{error:a.resetpasscode&&o.resetpasscode,id:"input-with-icon-grid",label:r.a.createElement(l.a,{id:"resetPass.code",defaultMessage:"resetPass.code"}),value:n.resetpasscode,onChange:s,disabled:t||u,helperText:o.resetpasscode?a.resetpasscode:"",name:"resetpasscode"}))),r.a.createElement(f.a,{container:!0,spacing:1,alignItems:"flex-end",className:"form-control"},r.a.createElement(f.a,{item:!0,className:"item-flex input-with-icon"},r.a.createElement(m.a,null),r.a.createElement(p.a,{error:a.password&&o.password,id:"input-with-icon-grid",label:r.a.createElement(l.a,{id:"common.newPassword",defaultMessage:"new password"}),value:n.password,onChange:s,disabled:t||u,helperText:o.password?a.password:"",type:"password",name:"password"}))),r.a.createElement(f.a,{container:!0,spacing:1,alignItems:"flex-end",className:"form-control"},r.a.createElement(f.a,{item:!0,className:"item-flex input-with-icon"},r.a.createElement(m.a,null),r.a.createElement(p.a,{error:a.passchange&&o.passchange,id:"input-with-icon-grid",label:r.a.createElement(l.a,{id:"common.confirmNewPassword",defaultMessage:"Confirm New Pasword"}),value:n.passchange,onChange:s,disabled:t||u,helperText:o.passchange?a.passchange:"",type:"password",name:"passchange"})))),r.a.createElement("div",{className:"form-control filledButton bottomContainer"},r.a.createElement(c.a,{className:"custom-button-login btn-block btn-round btn-red buttonContainer",disabled:t||u,id:"login-btn",loading:t||u,name:"login-btn",onClick:i,type:"primary"},r.a.createElement(l.a,{defaultMessage:"resetPass.save",id:"resetPass.save"}))))})))))}}])&&y(t.prototype,n),a&&y(t,a),d}(a.Component);N.defaultProps={login:function(){return null},errors:{}},N.propTypes={login:s.PropTypes.func,isLogged:s.PropTypes.bool},t.default=N}}]);
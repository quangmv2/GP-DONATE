(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{321:function(e,t,n){var a=n(322);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(24)(a,r);a.locals&&(e.exports=a.locals)},322:function(e,t,n){(t=n(23)(!1)).push([e.i,"::-moz-placeholder {\n  font-family: Muli;\n  font-size: 16px;\n  font-style: italic;\n  line-height: 1.25;\n  color: #999999;\n}\n\n:-ms-input-placeholder {\n  font-family: Muli;\n  font-size: 16px;\n  font-style: italic;\n  line-height: 1.25;\n  color: #999999;\n}\n\n::-ms-input-placeholder {\n  font-family: Muli;\n  font-size: 16px;\n  font-style: italic;\n  line-height: 1.25;\n  color: #999999;\n}\n\n::placeholder {\n  font-family: Muli;\n  font-size: 16px;\n  font-style: italic;\n  line-height: 1.25;\n  color: #999999;\n}\n\n.ant-tabs-tab {\n  font-family: Muli;\n  font-size: 1.3em;\n  text-align: center;\n  color: #666666;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.ant-tabs-nav-wrap {\n  display: flex;\n  justify-content: center;\n  text-align: center;\n}\n\n.ant-tabs-container .ant-tabs-tab-active {\n  font-weight: bold;\n  color: #333333;\n}\n.ant-tabs-container .ant-tabs-ink-bar {\n  background: #081f47;\n}\n\n.custom-tabs .ant-tabs-nav-list {\n  width: 100vw;\n  padding-left: 15px;\n  padding-right: 15px;\n}\n.custom-tabs .ant-tabs-nav-list > button {\n  flex: 1;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n}\n\n.icon-top {\n  font-size: 30px;\n}\n\n.icon-search {\n  font-size: 22px;\n}",""]),e.exports=t},323:function(e,t,n){var a=n(324);"string"==typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(24)(a,r);a.locals&&(e.exports=a.locals)},324:function(e,t,n){(t=n(23)(!1)).push([e.i,".noti-image {\n  border-radius: 6px;\n}\n\n.noti-hours-ago {\n  text-align: left;\n  padding-top: 9px;\n  width: auto;\n}\n\n.mess-content {\n  padding-top: 3px;\n}\n\n.noti-preview-container {\n  align-items: flex-start;\n}\n\n.icon-follow-noti {\n  font-size: 30px;\n  color: #999;\n}",""]),e.exports=t},713:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),o=n(0),c=n.n(o),i=n(17),s=(n(321),n(96),n(1267)),l=(n(224),n(18)),u=n(19),f=n(16),m=n(8),d=n.n(m),p=(n(251),n(1)),v=n(61),b=n.n(v),h=Object(f.b)({userInfo:Object(l.f)()}),y=Object(u.c)(h,{})((function(e){var t=e.data,n=e.userInfo;return c.a.createElement("div",null,n?_.map(t,(function(t){var a=t.id,r=t.user,o=t.user_to,i=t.content,s=t.created_at;return c.a.createElement("div",{key:"message ".concat(a," ").concat(r.id)},c.a.createElement("div",{className:"message-preview-container",onClick:function(){return e.openWindow(r.id===n.id?o:r)}},c.a.createElement("div",{className:"message-component-container"},r.id===n.id?o.personal_photo?c.a.createElement("img",{src:Object(p.d)(o.personal_photo),className:"mess-avatar"}):c.a.createElement(b.a,{size:"42",name:o.first_name}):r.personal_photo?c.a.createElement("img",{src:Object(p.d)(r.personal_photo),className:"mess-avatar"}):c.a.createElement(b.a,{size:"42",name:r.first_name}),c.a.createElement("div",{className:"info-user mess-content-container"},c.a.createElement("p",{className:"username"},r.id===n.id?"".concat(o.first_name):"".concat(r.first_name)),c.a.createElement("p",{className:"mess-content"},i))),c.a.createElement("p",{className:"mess-hours-ago"},d()(s).add(-(new Date).getTimezoneOffset()/60,"hours").fromNow())),c.a.createElement("hr",{className:"mess-border-bottom"}))})):function(){})})),w=n(20),E=(n(323),n(22));function g(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){g(o,a,r,c,i,"next",e)}function i(e){g(o,a,r,c,i,"throw",e)}c(void 0)}))}}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var N=function(e){var t=e.data;return c.a.createElement("div",null,_.map(t,(function(e){var t=e.id,n=(e.user_to,e.user),a=e.type,i=e.data,s=e.created_at,l=x(Object(o.useState)(!1),2),u=l[0],f=l[1];Object(o.useEffect)((function(){"follow"==a&&m(n.id)}),[]);var m=function(){var e=j(r.a.mark((function e(t){var a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.fetch(Object(p.b)(n.id),{method:"GET"});case 2:a=e.sent,o=x(a,2),c=o[0],200==o[1]&&f(c.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=j(r.a.mark((function e(){var t,a,o,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=10;break}return e.next=3,E.a.fetch(Object(p.v)(n.id),{method:"DELETE"});case 3:if(t=e.sent,(a=x(t,2))[0],200!=a[1]){e.next=10;break}return f(!1),e.abrupt("return");case 10:return e.next=12,E.a.fetch(Object(p.c)(n.id),{method:"PUT"});case 12:if(o=e.sent,(c=x(o,2))[0],200!=c[1]){e.next=19;break}return f(!0),e.abrupt("return");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=JSON.parse(i);return c.a.createElement("div",{key:"noti ".concat(t," ").concat(n.id)},c.a.createElement(w.a,{className:"message-preview-container noti-preview-container"},c.a.createElement("div",{className:"message-component-container"},n.personal_photo?c.a.createElement("img",{src:Object(p.d)(n.personal_photo),className:"mess-avatar"}):c.a.createElement(b.a,{size:"42",name:"".concat(n.first_name)}),c.a.createElement("div",{className:"info-user mess-content-container"},c.a.createElement("p",{className:"username"},"".concat(n.first_name)),c.a.createElement("p",{className:"mess-content"},"comment"==a?"commented: ".concat(h.content.split(" ").length>10?h.content.split(" ").slice(9).join(" "):h.content,"..."):"follow"==a?"started following you.":"liked your project"),c.a.createElement("p",{className:"mess-hours-ago noti-hours-ago"},d()(s).add(-(new Date).getTimezoneOffset()/60,"hours").fromNow()))),"follow"==a&&u?c.a.createElement("span",{className:"icon-account-active",onClick:v},c.a.createElement("span",{className:"path1"}),c.a.createElement("span",{className:"path2"})):c.a.createElement(c.a.Fragment,null),"follow"!=a||u?c.a.createElement(c.a.Fragment,null):c.a.createElement("span",{className:"icon-follow icon-follow-noti",onClick:v})),c.a.createElement("hr",{className:"mess-border-bottom"}))})))},S=Object(o.memo)(N),k=n(56),A=n(134);function z(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t,n,a,r,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(a,r)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function c(e){I(o,a,r,c,i,"next",e)}function i(e){I(o,a,r,c,i,"throw",e)}c(void 0)}))}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(a=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==i.return||i.return()}finally{if(r)throw o}}return n}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var W=s.a.TabPane,D=!1;t.default=function(){var e=M(Object(o.useState)([]),2),t=e[0],n=e[1],a=M(Object(o.useState)([]),2),l=a[0],u=a[1],f=M(Object(o.useState)(0),2),m=f[0],d=(f[1],M(Object(o.useState)(1),2)),v=(d[0],d[1]),b=M(Object(o.useState)(0),2),h=b[0],w=b[1],E=M(Object(o.useState)(!1),2),g=E[0],j=E[1],x=M(Object(o.useState)(0),2),O=x[0],N=x[1],_=M(Object(o.useState)("1"),2),I=_[0],C=_[1],P=Object(o.useRef)();Object(o.useEffect)((function(){return G(),J(1,"load"),window.addEventListener("scroll",F),function(){return window.removeEventListener("scroll",F)}}),[]),Object(o.useEffect)((function(){2==m&&window.scrollY+window.innerHeight>=P.current.offsetTop-10&&!D&&(D=!0,v((function(e){return J(e),e})))}),[h]),Object(o.useEffect)((function(){}),[l]);var F=function(){w(window.scrollY)},G=Object(o.useCallback)(function(){var e=T(r.a.mark((function e(t){var n,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.fetch(Object(p.r)(),{method:"GET"});case 2:n=e.sent,a=M(n,2),o=a[0],200==a[1]&&u(o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),J=Object(o.useCallback)(function(){var e=T(r.a.mark((function e(t){var a,o,c,i,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"loadMore",D=!0,e.next=4,k.a.fetch(Object(p.s)(t),{method:"GET"});case 4:o=e.sent,c=M(o,2),i=c[0],200==c[1]&&(D=!1,n("loadMore"==a?function(e){return[].concat(z(e),z(i.data))}:i.data),i.data.length>0&&v((function(e){return e+1}))),D=!1;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]),L=function(){j(!1)};return c.a.createElement("div",{className:"private-fullheight"},g?c.a.createElement(A.a,{closeWindow:L,data:O}):c.a.createElement(c.a.Fragment,null),c.a.createElement("div",{className:"container"},c.a.createElement(i.b,{headerName:"Activities"}),c.a.createElement(i.d,null),c.a.createElement("div",{className:"ant-tabs-container custom-tabs"},c.a.createElement(s.a,{activeKey:I,onChange:function(e){C(e)}},c.a.createElement(W,{tab:"Messages",key:"1"},c.a.createElement(y,{data:l,openWindow:function(e){N(e),j(!0)},closeWindow:L})),c.a.createElement(W,{tab:"Notifications",key:"2"},c.a.createElement(S,{data:t})))),c.a.createElement("div",{ref:P})))}}}]);
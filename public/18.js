(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{712:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(19),c=r(16),i=r(1227),u=r(1222),s=r(1223),l=r(1224),f=r(1225),p=r(1228),b=r(1226),d=(r(225),r(208)),y=function(t){return t.POST},g=function(t){return{type:"FETCH_POST_SUCCESS",payload:t}},O=r(6),h=r.n(O),m=r(22),j=r(65),S=r(1),v=r(27);function w(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return E(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function T(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function P(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?T(Object(r),!0).forEach((function(e){A(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var C=h.a.mark(I),x=h.a.mark(k),_=h.a.mark(M);function I(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.a)([k()]);case 2:case"end":return t.stop()}}),C)}function k(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(j.d)("FETCH_POST",M);case 2:case"end":return t.stop()}}),x)}function M(t){var e,r,n,a,o;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e=t.payload,r=e.page,n=e.limit,c.next=3,Object(j.b)(F,r,n);case 3:if(a=c.sent,o=a.data,200!==a.status){c.next=14;break}if(!(o.data.length<1)){c.next=10;break}return c.next=9,Object(j.c)({type:"FETCH_POST_SUCCESS_NULL",payload:{}});case 9:return c.abrupt("return");case 10:return c.next=12,Object(j.c)(g({data:o.data.map((function(t){return P({},t)}))}));case 12:c.next=16;break;case 14:return c.next=16,Object(j.c)({type:"FETCH_POST_FAILED",payload:o});case 16:case"end":return c.stop()}}),_)}var F=function(t,e){return m.a.fetch("".concat(S.p).concat(v.j,"?limit=").concat(e,"&page=").concat(t),{method:"GET"}).then((function(t){var e=w(t,2);return{data:e[0],status:e[1]}}))},U=r(175);r(26);function H(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return D(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var L=Object(U.a)({loading:!1,posts:[],page:0,errors:null}),$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_POST":var r=e.payload;return 1===r.page?t.set("loading",!0).set("posts",[]).set("page",0):t.set("loading",!0);case"FETCH_POST_SUCCESS":var n=e.payload.data;return n.length<0?t.set("loading",!1):t.set("loading",!1).set("page",n.length>0?t.get("page")+1:t.get("page")).set("posts",n.length>0?[].concat(H(t.get("posts")),H(n)):t.get("posts"));case"FETCH_POST_SUCCESS_NULL":return t.set("loading",!1);default:return t}},J=r(154),N=r(153),G=r(288),W=r(60),q=r(207),z=r(18),B=(r(253),r(134)),K=r(79);function Q(){return(Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return V(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}i.a.use([u.a,s.a,l.a,f.a]);var X=function(t){var e=R(Object(n.useState)(!1),2),r=(e[0],e[1],R(Object(n.useState)(0),2)),o=r[0],c=r[1],i=R(Object(n.useState)(!1),2),u=i[0],s=i[1],l=R(Object(n.useState)(!1),2),f=l[0],y=l[1],g=R(Object(n.useState)({}),2),O=g[0],h=g[1],m=R(Object(n.useState)(!0),2),j=m[0],S=m[1];Object(n.useEffect)((function(){var e=t.fetchMore,r=t.userInfo;r&&r.id&&e(1)}),[t.userInfo]),Object(n.useEffect)((function(){0!=o&&v()}),[o]),Object(n.useEffect)((function(){t.posts.length>0&&t.loading&&S(!1)}),[t.posts,t.loading]);var v=function(){t.posts.length-o<2&&(0,t.fetchMore)(t.page+1)},w=function(){s(!0)},E=function(){s(!1)},T=function(t){h(t),y(!0),s(!1)},P=t.posts,A=t.loading;return a.a.createElement("div",null,A&&j?a.a.createElement(K.a,null):a.a.createElement(a.a.Fragment,null,u&&a.a.createElement(q.default,{hideModal:E,post:P[o]}),f&&a.a.createElement(B.a,{data:O,closeWindow:function(){return y(!1)}}),a.a.createElement(p.a,{direction:"vertical",style:{height:u?0:window.innerHeight,display:u?"none":"block"},onSlideChangeTransitionEnd:function(t){return c(t.realIndex)},onSliderMove:function(t){return null}},P.map((function(t){return a.a.createElement(b.a,{key:"post ".concat(t.id," ").concat(t.title)},a.a.createElement(d.a,Q({},t,{showModal:w,hideModal:E,setUserMessage:T})))})))))},Y={fetchMore:function(t){return{type:"FETCH_POST",payload:{limit:3,page:t}}}},Z=Object(c.b)({errors:Object(c.a)(y,(function(t){return t.get("errors")})),loading:Object(c.a)(y,(function(t){return t.get("loading")})),page:Object(c.a)(y,(function(t){return t.get("page")})),posts:Object(c.a)(y,(function(t){return t.get("posts")})),userInfo:Object(z.f)()}),tt=Object(J.a)({key:"POST",reducer:$}),et=Object(N.a)({key:"POST",saga:I});e.default=Object(G.a)(tt,et,W.h)(Object(o.c)(Z,Y)(Object(n.memo)(X)))}}]);